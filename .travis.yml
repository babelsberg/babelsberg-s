language: smalltalk
sudo: false

os:
  - linux
  - osx

smalltalk:
  # - Squeak-trunk
  # - Squeak-5.1
  # - Squeak-5.0
  # - Squeak-4.6
  - Squeak-4.5

matrix:
  fast_finish: true
  allow_failures:
    - smalltalk: Squeak-Trunk


install:
   - wget -q -O /tmp/z3.zip https://github.com/$TRAVIS_REPO_SLUG/raw/binaries/z3-4.3.2.06a4a3599da0-x64-debian-7.4.zip


# after_success:
#   -     echo Uploading $BUILDER_CI_HOME/images/*.image
#     cd $PROJECT_HOME
#     echo $PWD
#     cp $BUILDER_CI_HOME/images/*.image BabelsbergS.image
#     cp $BUILDER_CI_HOME/images/*.changes BabelsbergS.changes
#     cp $BUILDER_CI_HOME/sources/*.sources .
#     echo "$VM_PATH/Linux/squeak -nosound -plugins "$VM_PATH/Linux" -encoding Latin1 -nodisplay BabelsbergS.image"
#     $VM_PATH/Linux/squeak -nosound -plugins "$VM_PATH/Linux" -encoding Latin1 -nodisplay BabelsbergS.image tests/build_image.st
#     echo "uploading..."
#     curl -T BabelsbergS.image http://www.lively-kernel.org/babelsberg/BabelsbergS/
#     curl -T BabelsbergS.changes http://www.lively-kernel.org/babelsberg/BabelsbergS/
